(this["webpackJsonptaquito-boilerplate-react"]=this["webpackJsonptaquito-boilerplate-react"]||[]).push([[0],{143:function(e,t){},203:function(e,t){},205:function(e,t){},267:function(e,t){},269:function(e,t){},279:function(e,t){},281:function(e,t){},293:function(e,t,n){},315:function(e,t){},317:function(e,t){},318:function(e,t){},323:function(e,t){},325:function(e,t){},344:function(e,t){},356:function(e,t){},359:function(e,t){},382:function(e,t,n){"use strict";n.r(t);var s,a=n(18),c=n.n(a),r=n(186),i=n.n(r),o=n(17),l=n(47),u=(n(293),n(3)),j=n(0),b=n.n(j),d=n(24),p=n(188),h=n(13),f=n(190),x=n(192),O=n(2),m=function(e){var t=e.Tezos,n=e.setContract,s=e.setWallet,c=e.setUserAddress,r=e.setUserBalance,i=e.setStorage,l=e.contractAddress,j=e.setBeaconConnection,m=e.setPublicToken,v=e.wallet,g=Object(a.useState)(!1),N=Object(o.a)(g,2),w=N[0],k=N[1],T=function(){var e=Object(d.a)(b.a.mark((function e(s){var a,o,u;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(s),e.next=3,t.tz.getBalance(s);case 3:return a=e.sent,r(a.toNumber()),e.next=7,t.wallet.at(l);case 7:return o=e.sent,e.next=10,o.storage();case 10:u=e.sent,n(o),i(u.toNumber());case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(d.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.requestPermissions({network:{type:h.p.HANGZHOUNET,rpcUrl:"https://hangzhounet.api.tez.ie"}});case 3:return e.next=5,v.getPKH();case 5:return t=e.sent,e.next=8,T(t);case 8:j(!0),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(d.a)(b.a.mark((function e(){var n,s,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,k(!0),e.next=4,f.a.create();case 4:return n=e.sent,s=new x.a(n,"44'/1729'/0'/0'",!0),t.setSignerProvider(s),e.next=9,t.signer.publicKeyHash();case 9:return a=e.sent,e.next=12,T(a);case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),console.log("Error!",e.t0),k(!1);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){Object(d.a)(b.a.mark((function e(){var n,a,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new p.a({name:"Taquito Boilerplate",preferredNetwork:h.p.HANGZHOUNET,disableDefaultEvents:!0,eventHandlers:(n={},Object(u.a)(n,h.e.PAIR_INIT,{handler:h.K.PAIR_INIT}),Object(u.a)(n,h.e.PAIR_SUCCESS,{handler:function(e){return m(e.publicKey)}}),n)}),t.setWalletProvider(a),s(a),e.next=5,a.client.getActiveAccount();case 5:if(!e.sent){e.next=13;break}return e.next=9,a.getPKH();case 9:return c=e.sent,e.next=12,T(c);case 12:j(!0);case 13:case"end":return e.stop()}}),e)})))()}),[]),Object(O.jsxs)("div",{className:"buttons",children:[Object(O.jsx)("button",{className:"button",onClick:S,children:Object(O.jsxs)("span",{children:[Object(O.jsx)("i",{className:"fas fa-wallet"}),"\xa0 Connect with wallet"]})}),Object(O.jsx)("button",{className:"button",disabled:w,onClick:y,children:w?Object(O.jsxs)("span",{children:[Object(O.jsx)("i",{className:"fas fa-spinner fa-spin"}),"\xa0 Loading, please wait"]}):Object(O.jsxs)("span",{children:[Object(O.jsx)("i",{className:"fab fa-usb"}),"\xa0 Connect with Ledger Nano"]})})]})},v=function(e){var t=e.wallet,n=e.setPublicToken,s=e.setUserAddress,a=e.setUserBalance,c=e.setWallet,r=e.setTezos,i=e.setBeaconConnection,o=function(){var e=Object(d.a)(b.a.mark((function e(){var o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s(""),a(0),c(null),o=new l.a("https://hangzhounet.api.tez.ie"),r(o),i(!1),n(null),console.log("disconnecting wallet"),!t){e.next=15;break}return e.next=11,t.client.removeAllAccounts();case 11:return e.next=13,t.client.removeAllPeers();case 13:return e.next=15,t.client.destroy();case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(O.jsx)("div",{className:"buttons",children:Object(O.jsxs)("button",{className:"button",onClick:o,children:[Object(O.jsx)("i",{className:"fas fa-times"}),"\xa0 Disconnect wallet"]})})},g=n(78),N=n.n(g),w=function(e){var t=e.contract,n=e.setUserBalance,s=e.Tezos,c=e.userAddress,r=e.setStorage,i=Object(a.useState)(!1),l=Object(o.a)(i,2),u=l[0],j=l[1],p=Object(a.useState)(!1),h=Object(o.a)(p,2),f=h[0],x=h[1],m=function(){var e=Object(d.a)(b.a.mark((function e(){var a,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.prev=1,e.next=4,t.methods.increment(1).send();case 4:return a=e.sent,e.next=7,a.confirmation();case 7:return e.next=9,t.storage();case 9:return(i=e.sent)&&r(i.toNumber()),e.t0=n,e.next=14,s.tz.getBalance(c);case 14:e.t1=e.sent,(0,e.t0)(e.t1),e.next=21;break;case 18:e.prev=18,e.t2=e.catch(1),console.log(e.t2);case 21:return e.prev=21,j(!1),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[1,18,21,24]])})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(d.a)(b.a.mark((function e(){var a,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.prev=1,e.next=4,t.methods.decrement(1).send();case 4:return a=e.sent,e.next=7,a.confirmation();case 7:return e.next=9,t.storage();case 9:return(i=e.sent)&&r(i.toNumber()),e.t0=n,e.next=14,s.tz.getBalance(c);case 14:e.t1=e.sent,(0,e.t0)(e.t1),e.next=21;break;case 18:e.prev=18,e.t2=e.catch(1),console.log(e.t2);case 21:return e.prev=21,x(!1),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[1,18,21,24]])})));return function(){return e.apply(this,arguments)}}();return t||c?Object(O.jsxs)("div",{className:"buttons",children:[Object(O.jsx)("button",{className:"button",disabled:u,onClick:m,children:u?Object(O.jsxs)("span",{children:[Object(O.jsx)("i",{className:"fas fa-spinner fa-spin"}),"\xa0 Please wait"]}):Object(O.jsxs)("span",{children:[Object(O.jsx)("i",{className:"fas fa-plus"}),"\xa0 Increment by 1"]})}),Object(O.jsx)("button",{className:"button",onClick:v,children:f?Object(O.jsxs)("span",{children:[Object(O.jsx)("i",{className:"fas fa-spinner fa-spin"}),"\xa0 Please wait"]}):Object(O.jsxs)("span",{children:[Object(O.jsx)("i",{className:"fas fa-minus"}),"\xa0 Decrement by 1"]})})]}):Object(O.jsx)("div",{children:"\xa0"})},k=function(e){var t=e.Tezos,n=e.setUserBalance,s=e.userAddress,c=Object(a.useState)(""),r=Object(o.a)(c,2),i=r[0],l=r[1],u=Object(a.useState)(""),j=Object(o.a)(u,2),p=j[0],h=j[1],f=Object(a.useState)(!1),x=Object(o.a)(f,2),m=x[0],v=x[1],g=function(){var e=Object(d.a)(b.a.mark((function e(){var a,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i||!p){e.next=22;break}return v(!0),e.prev=2,e.next=5,t.wallet.transfer({to:i,amount:parseInt(p)}).send();case 5:return a=e.sent,e.next=8,a.confirmation();case 8:return l(""),h(""),e.next=12,t.tz.getBalance(s);case 12:c=e.sent,n(c.toNumber()),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),console.log(e.t0);case 19:return e.prev=19,v(!1),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(){return e.apply(this,arguments)}}();return Object(O.jsxs)("div",{id:"transfer-inputs",children:[Object(O.jsx)("input",{type:"text",placeholder:"Recipient",value:i,onChange:function(e){return l(e.target.value)}}),Object(O.jsx)("input",{type:"number",placeholder:"Amount",value:p,onChange:function(e){return h(e.target.value)}}),Object(O.jsx)("button",{className:"button",disabled:!i&&!p,onClick:g,children:m?Object(O.jsxs)("span",{children:[Object(O.jsx)("i",{className:"fas fa-spinner fa-spin"}),"\xa0 Please wait"]}):Object(O.jsxs)("span",{children:[Object(O.jsx)("i",{className:"far fa-paper-plane"}),"\xa0 Send"]})})]})};!function(e){e.NONE="",e.LISTENING="Listening to P2P channel",e.CONNECTED="Channel connected",e.PERMISSION_REQUEST_SENT="Permission request sent, waiting for response",e.PERMISSION_REQUEST_SUCCESS="Wallet is connected"}(s||(s={}));var T=function(){var e=Object(a.useState)(new l.a("https://hangzhounet.api.tez.ie")),t=Object(o.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)(void 0),r=Object(o.a)(c,2),i=r[0],u=r[1],j=Object(a.useState)(""),b=Object(o.a)(j,2),d=b[0],p=b[1],h=Object(a.useState)(null),f=Object(o.a)(h,2),x=f[0],g=f[1],T=Object(a.useState)(""),S=Object(o.a)(T,2),y=S[0],B=S[1],C=Object(a.useState)(0),A=Object(o.a)(C,2),z=A[0],P=A[1],I=Object(a.useState)(0),U=Object(o.a)(I,2),q=U[0],E=U[1],_=Object(a.useState)(!1),W=Object(o.a)(_,2),H=W[0],R=W[1],L=Object(a.useState)(!1),M=Object(o.a)(L,2),D=M[0],G=M[1],K=Object(a.useState)("transfer"),J=Object(o.a)(K,2),Z=J[0],Q=J[1],X="KT1WiPWNcBMcXJButkkvroRGkzs45n3iZ13c";return!d||y&&!isNaN(z)?y&&!isNaN(z)?Object(O.jsxs)("div",{className:"main-box",children:[Object(O.jsx)("h1",{children:"Taquito Boilerplate"}),Object(O.jsxs)("div",{id:"tabs",children:[Object(O.jsx)("div",{id:"transfer",className:"transfer"===Z?"active":"",onClick:function(){return Q("transfer")},children:"Make a transfer"}),Object(O.jsx)("div",{id:"contract",className:"contract"===Z?"active":"",onClick:function(){return Q("contract")},children:"Interact with a contract"})]}),Object(O.jsxs)("div",{id:"dialog",children:[Object(O.jsxs)("div",{id:"content",children:["transfer"===Z?Object(O.jsxs)("div",{id:"transfers",children:[Object(O.jsx)("h3",{className:"text-align-center",children:"Make a transfer"}),Object(O.jsx)(k,{Tezos:n,setUserBalance:P,userAddress:y})]}):Object(O.jsxs)("div",{id:"increment-decrement",children:[Object(O.jsxs)("h3",{className:"text-align-center",children:["Current counter: ",Object(O.jsx)("span",{children:q})]}),Object(O.jsx)(w,{contract:i,setUserBalance:P,Tezos:n,userAddress:y,setStorage:E})]}),Object(O.jsxs)("p",{children:[Object(O.jsx)("i",{className:"far fa-file-code"}),"\xa0",Object(O.jsx)("a",{href:"https://better-call.dev/hangzhounet/".concat(X,"/operations"),target:"_blank",rel:"noopener noreferrer",children:X})]}),Object(O.jsxs)("p",{children:[Object(O.jsx)("i",{className:"far fa-address-card"}),"\xa0 ",y]}),Object(O.jsxs)("p",{children:[Object(O.jsx)("i",{className:"fas fa-piggy-bank"}),"\xa0",(z/1e6).toLocaleString("en-US")," \ua729"]})]}),Object(O.jsx)(v,{wallet:x,setPublicToken:p,setUserAddress:B,setUserBalance:P,setWallet:g,setTezos:s,setBeaconConnection:G})]}),Object(O.jsx)("div",{id:"footer",children:Object(O.jsx)("img",{src:"built-with-taquito.png",alt:"Built with Taquito"})})]}):d||y||z?Object(O.jsx)("div",{children:"An error has occurred"}):Object(O.jsxs)("div",{className:"main-box",children:[Object(O.jsxs)("div",{className:"title",children:[Object(O.jsx)("h1",{children:"Taquito Boilerplate"}),Object(O.jsx)("a",{href:"https://app.netlify.com/start/deploy?repository=https://github.com/ecadlabs/taquito-boilerplate",children:Object(O.jsx)("img",{src:"https://www.netlify.com/img/deploy/button.svg",alt:"netlify-button"})})]}),Object(O.jsxs)("div",{id:"dialog",children:[Object(O.jsx)("header",{children:"Welcome to Taquito Boilerplate App!"}),Object(O.jsxs)("div",{id:"content",children:[Object(O.jsx)("p",{children:"Hello!"}),Object(O.jsxs)("p",{children:["This is a template Tezos dApp built using Taquito. It's a starting point for you to hack on and build your own dApp for Tezos.",Object(O.jsx)("br",{}),"If you have not done so already, go to the"," ",Object(O.jsx)("a",{href:"https://github.com/ecadlabs/taquito-boilerplate",target:"_blank",rel:"noopener noreferrer",children:"Taquito boilerplate Github page"})," ","and click the ",Object(O.jsx)("em",{children:'"Use this template"'})," button."]}),Object(O.jsx)("p",{children:"Go forth and Tezos!"})]}),Object(O.jsx)(m,{Tezos:n,setContract:u,setPublicToken:p,setWallet:g,setUserAddress:B,setUserBalance:P,setStorage:E,contractAddress:X,setBeaconConnection:G,wallet:x})]}),Object(O.jsx)("div",{id:"footer",children:Object(O.jsx)("img",{src:"built-with-taquito.png",alt:"Built with Taquito"})})]}):Object(O.jsxs)("div",{className:"main-box",children:[Object(O.jsx)("h1",{children:"Taquito Boilerplate"}),Object(O.jsxs)("div",{id:"dialog",children:[Object(O.jsx)("header",{children:"Try the Taquito Boilerplate App!"}),Object(O.jsxs)("div",{id:"content",children:[Object(O.jsxs)("p",{className:"text-align-center",children:[Object(O.jsx)("i",{className:"fas fa-broadcast-tower"}),"\xa0 Connecting to your wallet"]}),Object(O.jsx)("div",{dangerouslySetInnerHTML:function(){var e=N()(0,"L");return e.addData(d||""),e.make(),{__html:e.createImgTag(4)}}(),className:"text-align-center"}),Object(O.jsxs)("p",{id:"public-token",children:[H?Object(O.jsx)("span",{id:"public-token-copy__copied",children:Object(O.jsx)("i",{className:"far fa-thumbs-up"})}):Object(O.jsx)("span",{id:"public-token-copy",onClick:function(){d&&(navigator.clipboard.writeText(d),R(!0),setTimeout((function(){return R(!1)}),2e3))},children:Object(O.jsx)("i",{className:"far fa-copy"})}),Object(O.jsxs)("span",{children:["Public token: ",Object(O.jsx)("span",{children:d})]})]}),Object(O.jsxs)("p",{className:"text-align-center",children:["Status: ",D?"Connected":"Disconnected"]})]})]}),Object(O.jsx)("div",{id:"footer",children:Object(O.jsx)("img",{src:"built-with-taquito.png",alt:"Built with Taquito"})})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(T,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[382,1,2]]]);
//# sourceMappingURL=main.62091e50.chunk.js.map